<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>裁剪图片</title>
<link rel="stylesheet" type="text/css" href="js/imgareaselect/css/imgareaselect-default.css" />
<script type="text/javascript" src="js/jquery-2.1.0.min.js"></script>
<script type="text/javascript" src="js/imgareaselect/scripts/jquery.imgareaselect.pack.js"></script>
<script type="text/javascript">
$(function () {
    $('<div><img src="http://odyniec.net/projects/imgareaselect/ferret.jpg" style="position: relative;" /><div>')
        .css({
            float: 'left',
            position: 'relative',
            overflow: 'hidden',
            width: '100px',
            height: '100px'
        })
        .insertAfter($('#ferret'));

    $('#ferret').imgAreaSelect({
    	x1:0,y1:0,x2:100,y2:100,
    	aspectRatio: '1:1', 
    	onSelectChange: function(img, selection) {
    	    var scaleX = 100 / (selection.width || 1);
    	    var scaleY = 100 / (selection.height || 1);
    	    $('#ferret + div > img').css({
    	        width: Math.round(scaleX * 400) + 'px',
    	        height: Math.round(scaleY * 300) + 'px',
    	        marginLeft: '-' + Math.round(scaleX * selection.x1) + 'px',
    	        marginTop: '-' + Math.round(scaleY * selection.y1) + 'px'
    	    });
    	} 
    });
});
</script>
</head>
<body>
<div class="container">
	<img id="ferret" src="http://odyniec.net/projects/imgareaselect/ferret.jpg" style="float: left; margin-right: 10px;" />
</div>
</body>
</html>